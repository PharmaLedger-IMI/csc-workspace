import{r as e,h as t,g as i}from"./p-87f0c668.js";import"./p-8ff37cfd.js";import"./p-c06cc5e4.js";import"./p-5120ebde.js";import{B as s}from"./p-9b11de09.js";import{C as l}from"./p-cca2d074.js";import{T as o}from"./p-454c45f1.js";import{P as r}from"./p-0629d9c0.js";var n=function(e,t,i,s){var l,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(l=e[n])&&(r=(o<3?l(r):o>3?l(t,i,r):l(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r};const p=class{constructor(t){e(this,t),this.label="Select files",this.listFiles=!1,this.filesAppend=!1,this.files=[]}triggerBrowseFile(e){e.preventDefault(),e.stopImmediatePropagation(),this.htmlElement.querySelector("input").click()}dispatchEvent(){let e=new r(this.eventName,this.files,{bubbles:!0,composed:!0,cancelable:!0});this.htmlElement.dispatchEvent(e)}addedFile(e){let t=Array.from(e.target.files);this.files=this.filesAppend?[...this.files,...t]:t,this.eventName&&(e.preventDefault(),e.stopImmediatePropagation(),this.dispatchEvent(),e.target.value=null)}deleteFileFromList(e){this.files&&(this.files=this.files.filter(t=>t!=e),this.dispatchEvent())}mapFileToDiv(e){return t("div",{class:"fileDiv"},t("button",{type:"button",class:"btn btn-secondary trashButton",onClick:()=>this.deleteFileFromList(e)},t("span",null,"X")),t("p",null,e.name))}render(){let e={},i=null;return"directory"===this.accept&&(e={directory:!0,mozdirectory:!0,webkitdirectory:!0},this.accept=null),this.listFiles&&this.files&&(i=t("div",{class:this.files.length>0?"selectedFiles":""},this.files.map(e=>this.mapFileToDiv(e)))),[t("button",{type:"button",class:"btn btn-secondary",onClick:this.triggerBrowseFile.bind(this)},t("slot",null),t("label",null,this.label,t("input",Object.assign({multiple:!0},e,{accept:this.accept,type:"file",onClick:e=>{e.stopImmediatePropagation()},onChange:this.addedFile.bind(this),class:"form-control-file form-control-sm"})))),i,this.eventName?null:t("h5",{class:"mt-4"},"No controller set for this component!")]}get htmlElement(){return i(this)}};n([l(),s()],p.prototype,"modelHandler",void 0),n([o({description:"This is the label of the button",isMandatory:!1,propertyType:"string",defaultValue:"Select files"})],p.prototype,"label",void 0),n([o({description:"This property tells the component which types of files can be uploaded from the user's device.",isMandatory:!1,propertyType:"string",specialNote:"If this property is missing, then all types of files can be uploaded."})],p.prototype,"accept",void 0),n([o({description:"This property tells the component if the list of uploaded files will be visible.",isMandatory:!1,propertyType:"boolean",defaultValue:!1,specialNote:"If this property is missing, then the list of uploaded files will be hidden."})],p.prototype,"listFiles",void 0),n([o({description:"This property tells the component if the uploaded files should be appended to the existing file list.",isMandatory:!1,propertyType:"boolean",defaultValue:!1,specialNote:"If this property is missing, then the list of uploaded files will be overridden every time the user select files again."})],p.prototype,"filesAppend",void 0),p.style=".fileDiv{display:flex}.trashButton{margin:0 5px 0 0;padding:0 !important;border:0 !important}";export{p as psk_files_chooser}